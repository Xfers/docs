<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Xfers API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.xfers.io/account_registration'>Sign Up for a Developer Key</a></li>
            <li><a href="mailto:support@xfers.io">Need help? Email us</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Xfers provides a simple and production REST API to integrate internet banking and credit card payment(coming soon) into your business or applications</p>

<p>This API reference provides information on available endpoints. To read more about the API, visit our <a href="https://www.xfers.io/developers">API documentation</a>.</p>

<h1 id="apis-endpoints">APIs endpoints</h1>

<p>Xfers provides a delicated sandbox environment where you can simulate bank transfer without having to actually make one. This makes integrations and testing alot easier. </p>

<p>For testing purposes, we highly recommend that your head over <a href="sandbox.xfers.io">sandbox.xfers.io</a> and create a sandbox account.</p>

<p>To test against the sandbox available, point to our sandbox API endpoint at:</p>

<p><code class="prettyprint">https://sandbox.xfers.io/api/v3</code></p>

<p>To switch to production, point to our production API endpoint at:</p>

<p><code class="prettyprint">https://www.xfers.io/api/v3</code></p>

<aside class="notice">
Sandbox and Production are two separate environments. Please ensure your register for an account at EACH environment and use their individual API Key.
</aside>

<aside class="notice">
All the examples code in this document will be pointing to our sandbox endpoint.
</aside>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://sandbox.xfers.io/api/v3/hello"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">f0ca588df6e8400a98a7e522390fad67</code> with your API key.</p>
</blockquote>

<p>Xfers uses API keys to allow access to the API. You can get your API key from your <a href="https://www.xfers.io/account_settings">Account Settings</a> page.</p>

<p>Xfers expects the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67</code></p>

<blockquote>
<p>The above command returns JSON structured like this on success:</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
You must replace <code>f0ca588df6e8400a98a7e522390fad67</code> with your personal API key.
</aside>

<aside class="warning">
All endpoints are in HTTPS. Please do not attempt to hit our endpoint in HTTP, beside failing you will also be exposing your API key in plain text!
</aside>

<h1 id="account-info">Account Info</h1>

<p>The following APIs provide informations and allow changes to an Xfers account.</p>

<h2 id="get-account-info">Get Account Info</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"available_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ledger_balance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"250.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credit_card_rate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3.5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credit_card_fee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_transfer_fee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.45"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"wenbin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tay"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+6597288608"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_accounts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"POSB-SAVING"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
       </span><span class="s2">"amt_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"amt_2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.09"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12315"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC-SAVING-PLUS"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
       </span><span class="s2">"amt_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"amt_2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.17"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint return informations related to your account.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/user</code></p>

<h2 id="create-bank-account">Create Bank Account</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/bank_account"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s2">"account_no=03931234323"</span>
  -d <span class="s2">"account_type=DBS-SAVING"</span>
  -d <span class="s2">"bank=DBS"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_account"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amt_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amt_2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.09"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12315"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amt_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amt_2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.17"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This request will add a new bank account to this Xfers account. Bank account allow you to withdrawal your Xfers Balance to.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">PUT https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>account_no</td>
<td>string</td>
<td>optional</td>
<td>bank account no</td>
<td>03931234323</td>
</tr>
<tr>
<td>bank</td>
<td>string</td>
<td>optional</td>
<td>bank name (DBS/OCBC/UOB/MBB/CITI/STC)</td>
<td>DBS</td>
</tr>
</tbody></table>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/user</code></p>

<h2 id="update-bank-account">Update Bank Account</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -X PUT
  -d <span class="s2">"account_no=03931234323"</span>
  -d <span class="s2">"bank=DBS"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_account"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amt_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amt_2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.09"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12315"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amt_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amt_2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.17"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This request allow you to update an existing bank account record. </p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">PUT https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>account_no</td>
<td>string</td>
<td>optional</td>
<td>bank account no</td>
<td>03931234323</td>
</tr>
<tr>
<td>bank</td>
<td>string</td>
<td>optional</td>
<td>bank name (DBS/OCBC/UOB/MBB/CITI/STC)</td>
<td>DBS</td>
</tr>
</tbody></table>

<h1 id="charges">Charges</h1>

<p>The following APIs allow you to create a Xfers transaction and allow anyone to pay you via internet bank transfer or credit card(coming soon).</p>

<h2 id="creating-a-charge">Creating a Charge</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s2">"amount=24.99"</span>
  -d <span class="s2">"currency=SGD"</span>
  -d <span class="s2">"redirect=false"</span>
  -d <span class="s2">"notify_url=https://mysite.com/payment_notification"</span>
  -d <span class="s2">"return_url=https://mysite.com/return"</span>
  -d <span class="s2">"cancel_url=https://mysite.com/cancel"</span>
  -d <span class="s2">"order_id=A012312"</span>
  -d <span class="s2">"cash_on_deliver=true"</span>
  -d <span class="s2">"descriptions='Carousell user - Konsolidate'"</span>
  -d <span class="s2">"shipping=2.50"</span>
  -d <span class="s2">"tax=0.0"</span>
  -d <span class="s1">'items=[{"description":"Red dress Size M","price":9.99,"quantity":1,"name":"Red dress"}]'</span>
  -d <span class="s1">'meta_data={"key1":"value1", "key2":"value2"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asd1wwd1csadjw1e213sad"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/asd1wwd1csadjw1e213sad"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cash_on_delivery"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">                        
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">  
  </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The following request will allow you to create a charge against a customer. </p>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>float</td>
<td>required</td>
<td>Total value for items</td>
<td>9.99</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>required</td>
<td>3-letter ISO code for currency</td>
<td>SGD</td>
</tr>
<tr>
<td>notify_url</td>
<td>string</td>
<td>required</td>
<td>URL to receive callback notifications on charge success/failure/expiration</td>
<td>https://mysite.com/payment_notification</td>
</tr>
<tr>
<td>return_url</td>
<td>string</td>
<td>required</td>
<td>URL Xfers will redirect customer to on completion of Xfers checkout</td>
<td>https://mysite.com/return</td>
</tr>
<tr>
<td>cancel_url</td>
<td>string</td>
<td>required</td>
<td>URL Xfers will redirect customer to on cancellation of Xfers checkout</td>
<td>https://mysite.com/cancel</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>required</td>
<td>Unique ref no provided by you to prevent double charging, this cannot be repeated</td>
<td>A012312</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>required</td>
<td>Description of transaction for display purposes</td>
<td>Carousell user - Konsolidate</td>
</tr>
<tr>
<td>customer</td>
<td>string</td>
<td>optional</td>
<td>contact no or email of person to charge. If this is provided, Xfers will send notifications to this user.</td>
<td>97288608</td>
</tr>
<tr>
<td>redirect</td>
<td>string</td>
<td>optional</td>
<td>When this is true, instead of the JSON response, Xfers will automatically redirect the request to our checkout page</td>
<td>Default to true</td>
</tr>
<tr>
<td>cash_on_delivery</td>
<td>string</td>
<td>optional</td>
<td>When this is set to true, the charge will trigger an escrow transaction and will require a <a href="http://xfers.github.io/slate/#capture-a-cod-charge">capture</a> api call to release the fund.</td>
<td>Default to false</td>
</tr>
<tr>
<td>items</td>
<td>string</td>
<td>optional</td>
<td>A JSON array of item with attributes &lsquo;description, name, price, quantity&rsquo;. See more <a href="http://xfers.github.io/slate/#item-hash">info</a>.</td>
<td>&ldquo;[{&quot;description&rdquo;:&ldquo;Red dress Size M&rdquo;,&ldquo;price&rdquo;:9.99,&ldquo;quantity&rdquo;:1,&ldquo;name&rdquo;:&ldquo;Red dress&rdquo;}]&ldquo;</td>
</tr>
<tr>
<td>shipping</td>
<td>float</td>
<td>optional</td>
<td>Shipping fees</td>
<td>Default to 0.0</td>
</tr>
<tr>
<td>tax</td>
<td>string</td>
<td>float</td>
<td>tax in $</td>
<td>Default to 0.0</td>
</tr>
<tr>
<td>meta_data</td>
<td>string</td>
<td>optional</td>
<td>A set of key/value pairs that you can attach to a charge. It can be useful for storing additional information about the customer in a structured format. You will be provided with these meta_data in your callback notification</td>
<td>{&quot;key1&rdquo;:&ldquo;value1&rdquo;, &ldquo;key2&rdquo;:&ldquo;value2&rdquo;}</td>
</tr>
<tr>
<td>receipt_email</td>
<td>string</td>
<td>optional</td>
<td>The email address to send this charge&rsquo;s receipt.</td>
<td>tianwei@xfers.io</td>
</tr>
</tbody></table>

<h3 id="item-hash">item hash</h3>

<p>You can provide itemized receipt for your customer by giving use informations with regards to each of them in the <code class="prettyprint">items</code> field as a json array of hash. </p>

<p>The below is the list of attribute supported in the hash.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>string</td>
<td>required</td>
<td>Total value for items</td>
<td>Red dress Size M</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>required</td>
<td>Total value for items</td>
<td>Red dress</td>
</tr>
<tr>
<td>price</td>
<td>float</td>
<td>required</td>
<td>Total value for items</td>
<td>9.99</td>
</tr>
<tr>
<td>quantity</td>
<td>integer</td>
<td>required</td>
<td>Total value for items</td>
<td>1</td>
</tr>
<tr>
<td>item_id</td>
<td>string</td>
<td>optional</td>
<td>Total value for items</td>
<td>AXA0012</td>
</tr>
</tbody></table>

<aside class="warning">
The subtotal of all the item MUST be equal to the `amount` field you provided or Xfers will reject your charge.
</aside>

<h2 id="payment-cancellation">Payment Cancellation</h2>

<p>If customer cancels the transaction on Xfers website, he will be redirected back to the <code class="prettyprint">cancel_url</code> you provided. The <code class="prettyprint">order_id</code> you provided in the charge call will also be part of the GET request as shown:</p>

<p><code class="prettyprint">GET https://mysite.com/cancel?order_id=&lt;order_id&gt;</code></p>

<h2 id="payment-response">Payment Response</h2>

<p>After the customer has completed the transaction on Xfers website, he will be redirected back to the <code class="prettyprint">return_url</code> you provided. The <code class="prettyprint">order_id</code> you provided in the charge call will also be part of the GET request as shown:</p>

<p><code class="prettyprint">GET https://mysite.com/return?order_id=&lt;order_id&gt;</code></p>

<aside class="warning">
Please take note that at this point, payment may or may not have been completed and verified. You should wait on receiving our payment notification server call before releasing your goods/services.
</aside>

<h2 id="payment-notifications">Payment Notifications</h2>

<p>After payment has been completed and verified by Xfers backend, Xfers will send a callback to the <code class="prettyprint">notify_url</code> you provided. This is a server to server HTTPS POST and you will need to acknowledge the callback by providing a HTTP 200 status. It is important to take note that this notification can arrive at your server before or after the customer is redirected to the return_url you provided. </p>

<p><code class="prettyprint">POST https://mysite.com/payment_notification</code></p>

<p>The following parameters will be part of the HTTPS POST:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>api_key</td>
<td>string</td>
<td>your api_key</td>
<td>f0ca588df6e8400a98a7e522390fad67</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>Unique ref no provided by your during your charge call</td>
<td>A012312</td>
</tr>
<tr>
<td>total_amount</td>
<td>float</td>
<td>12.49</td>
<td>Total value for items</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>3-letter ISO code for currency</td>
<td>SGD</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Payment status.</td>
<td>&ldquo;cancelled&rdquo; or &ldquo;paid&rdquo; or &ldquo;expired&rdquo;</td>
</tr>
</tbody></table>

<h2 id="verification-of-notifications">Verification of Notifications</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/validate"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s2">"total_amount=24.99"</span>
  -d <span class="s2">"currency=SGD"</span>
  -d <span class="s2">"order_id=A012312"</span>
  -d <span class="s2">"status=paid"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VERIFIED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>After receiving a payment notification from Xfers, you should do verification with Xfers to confirm that that it did indeed originate from Xfers. The post parameters must include all the fields in the payment notification that was sent from Xfers to you. </p>

<p>Xfers will response with HTTP 200 status and a JSON string { &ldquo;msg&rdquo;: &ldquo;VERIFIED&rdquo; } if the notification is valid or HTTP 400 status on Invalid request.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges/validate</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>string</td>
<td>Unique ref no provided by your during your charge call</td>
<td>A012312</td>
</tr>
<tr>
<td>total_amount</td>
<td>float</td>
<td>12.49</td>
<td>Total value for items</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>3-letter ISO code for currency</td>
<td>SGD</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Payment status.</td>
<td>&ldquo;cancelled&rdquo; or &ldquo;paid&rdquo; or &ldquo;expired&rdquo;</td>
</tr>
</tbody></table>

<h2 id="capture-a-cod-charge">Capture a COD Charge</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s2">"cod_pin=512312"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Capture the payment of an existing, uncaptured, cash on delivery charge. This is the second half of the two-step payment flow, where first you created a charge with the <code class="prettyprint">cash_on_delivery</code> option set to true.</p>

<p>Uncaptured cash on delivery payments convert exactly seven days after they are created. If they are not cancelled by that point in time, they will be marked as completed and the funds will be automatically release to you.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>cod_pin</td>
<td>string</td>
<td>Cash On Delivery PIN code provided to the buyer</td>
<td>512312</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-charge">Retrieve a charge</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asd1wwd1csadjw1e213sad"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/asd1wwd1csadjw1e213sad"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cash_on_delivery"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">                        
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">  
  </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves the details of a charge that has previously been created. Supply the unique charge ID that was returned from your previous request, and Xfers will return the corresponding charge information. The same information is returned when creating or refunding the charge.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;</code></p>

<h2 id="cancel-a-charge">Cancel a charge</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -X DELETE
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Cancel a charge that has previously been created. Supply the unique charge ID that was returned from your previous request.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">DELETE https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;</code></p>

<h2 id="list-all-charges">List all charges</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges?limit=1"</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asd1wwd1csadjw1e213sad"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/asd1wwd1csadjw1e213sad"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cash_on_delivery"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">                        
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">  
    </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
    </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>Returns a list of charges you&rsquo;ve previously created. The charges are returned in sorted order, with the most recent charges appearing first.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/charges</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>customer</td>
<td>string</td>
<td>optional</td>
<td>Only return charges for the customer specified by this customer ID.</td>
<td>97288608</td>
</tr>
<tr>
<td>ending_before</td>
<td>string</td>
<td>optional</td>
<td>A cursor for use in pagination. ending_before is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with obj_bar, your subsequent call can include ending_before=obj_bar in order to fetch the previous page of the list.</td>
<td>asd1wwd1csadjw1e213sad</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>optional</td>
<td>A limit on the number of objects to be returned. Limit can range between 1 and 50 items.</td>
<td>Default to 10</td>
</tr>
<tr>
<td>starting_after</td>
<td>string</td>
<td>optional</td>
<td>A cursor for use in pagination. starting_after is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with obj_foo, your subsequent call can include starting_after=obj_foo in order to fetch the next page of the list.</td>
<td>asd1wwd1csadjw1e213sad</td>
</tr>
</tbody></table>

<h1 id="xfers-connect">Xfers Connect</h1>

<p>Xfers connect is for accepting payment on behalf of others, and gaining access to their data.</p>

<p>You might use Connect if you:</p>

<ul>
<li><p>Are building a platform that enables e-commerce like Shopify or tackthis. </p></li>
<li><p>Need to easily accept payments and pay out your service providers, like Grabtaxi with its drivers or yesHelper with its workers. (You can even create Xfers accounts for your users, so they only ever interact with your platform.)</p></li>
</ul>

<p>In general, if you’re building a platform or marketplace that needs to pay third-parties or building applications that help Xfers users do more with their account or their data, Connect is likely the right solution for you.</p>

<h2 id="authentication">Authentication</h2>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://sandbox.xfers.io/api/v3/connect"</span>
  -H <span class="s2">"X-XFERS-APP-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">f0ca588df6e8400a98a7e522390fad67</code> with your API key. </p>
</blockquote>

<p>Xfers connect uses API keys to allow access to the APIs. </p>

<p>Write in to us at support@xfers.io to request for your Xfers connect API Keys.
You will provided with a pair of keys named <code class="prettyprint">X-XFERS-APP-API-KEY</code> and <code class="prettyprint">X-XFERS-APP-SECRET-KEY</code>.</p>

<p>Xfers connect expects the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">X-XFERS-APP-API-KEY: f0ca588df6e8400a98a7e522390fad67</code></p>

<blockquote>
<p>The above command returns JSON structured like this on success:</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
You must replace <code>f0ca588df6e8400a98a7e522390fad67</code> with your Xfers Connect&rsquo;s API key. These are not the same as your user API Key found in your account settings page.
</aside>

<h2 id="signup/login-to-xfers">Signup/login to Xfers</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/authorize/signup_login?phone_no=+6597288608&amp;signature=597b54c16578ef584d9e86020624a1364a16b550"</span>
  -H <span class="s2">"X-XFERS-APP-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This API call will attempt to login(existing user) or signup a new user.</p>

<p>An SMS with a OTP will be send to that number which must be used for <a href="http://xfers.github.io/docs/#get-user-api-token">get_token</a> api call.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/authorize/signup_login?otp=541231&amp;phone_no=+6597288608&amp;signature=7f6c6a7ec80a0be657e4204cd87e58401687a2eb</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>phone_no</td>
<td>string</td>
<td>required</td>
<td>User mobile no</td>
<td>+6597288608</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>required</td>
<td>SHA1 of &ldquo;phone_no+APP_SECRET_KEY&rdquo;</td>
<td>597b54c16578ef584d9e86020624a1364a16b550</td>
</tr>
</tbody></table>

<h2 id="get-user-api-token">Get User API Token</h2>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://sandbox.xfers.io/api/v3/authorize/get_token"</span>
  -H <span class="s2">"X-XFERS-APP-API-KEY: f0ca588df6e8400a98a7e522390fad67"</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_api_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f0ca588df6e8400a98a7e522390fad67"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This API call will return the user&rsquo;s <code class="prettyprint">X-XFERS-USER-API-KEY</code>.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/authorize/get_token</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>otp</td>
<td>string</td>
<td>required</td>
<td>6 digit one-time-password send over SMS</td>
<td>541231</td>
</tr>
<tr>
<td>phone_no</td>
<td>string</td>
<td>required</td>
<td>User mobile no</td>
<td>+6597288608</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>required</td>
<td>SHA1 of &ldquo;OTP+phone_no+APP_SECRET_KEY&rdquo;</td>
<td>7f6c6a7ec80a0be657e4204cd87e58401687a2eb</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>Xfers API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is invalid or has errors.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is incorrect.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified request could not be found</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You are making too many request too quickly.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
