<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Xfers API Reference</title>    
    <link rel="icon" type="image/png" href="images/favicon.ico">

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.xfers.io/account_registration'>Sign Up for a Developer Key</a></li>
            <li><a href="mailto:support@xfers.io">Need help? Email us</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <!--- Xfers User API Section -->

<h1 id="introduction">Introduction</h1>

<p>The <strong>Xfers Core API</strong> provides a set of simple RESTFUL APIs to allow businesses to 
integrate internet banking and credit card payments into your business or applications. </p>

<p>You will make use of the Xfers Core API to manage your own account programmatically. </p>

<p><strong>Xfers Connect</strong> is for accepting payments on behalf of others, think of this as a super user that can manage and 
create accounts on the behalf of others. </p>

<h1 id="apis-endpoints">APIs endpoints</h1>

<p>Xfers provides a <strong>dedicated sandbox environment</strong> where you can simulate an incoming bank transfer for testing purposes. 
Note that this feature will not be available in production mode. </p>

<p>For testing purposes, we highly recommend that your head over to <a href="https://sandbox.xfers.io">sandbox.xfers.io</a> and create a sandbox account.</p>

<p>While in testing mode, point to our sandbox API endpoint at:</p>

<p><code class="prettyprint">https://sandbox.xfers.io/api/v3</code></p>

<p>To switch to production, point to our production API endpoint at:</p>

<p><code class="prettyprint">https://www.xfers.io/api/v3</code></p>

<aside class="notice">
Sandbox and Production are two separate environments. Please ensure your register for an account at EACH environment and use their individual API Key.
</aside>

<aside class="notice">
All the examples code in this document will be pointing to our sandbox endpoint.
</aside>

<p>Note that all API calls are done through HTTPS, please do not attempt to hit our endpoint via HTTP, as you will also be 
exposing your API key in plain text.</p>

<h1 id="xfers-core">Xfers Core</h1>

<p>The <strong>Xfers Core API</strong> provides a set of simple RESTFUL APIs to allow businesses to 
integrate internet banking and credit card payments into your business or applications. </p>

<p>You will make use of the Xfers Core API to manage your own account programmatically. </p>

<h2 id="authentication">Authentication</h2>

<blockquote>
<p>Simple Authentication Ping Test</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://sandbox.xfers.io/api/v3/authorize/hello"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc</code> with your own API key.</p>
</blockquote>

<p>Xfers uses API keys to allow access to the API. You can get your API key from your <a href="https://sandbox.xfers.io/account_settings">Account Settings</a> page.</p>

<p>Xfers expects the API key to be included in the header of all API requests to the server, like so:</p>

<p><code class="prettyprint">X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc</code></p>

<blockquote>
<p>The above command returns JSON structured like this on success:</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/authorize/hello</code></p>

<aside class="notice">
You must replace <code>FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc</code> with your personal API key.
</aside>

<aside class="warning">
All endpoints are in HTTPS. Please do not attempt to hit our endpoint in HTTP, beside failing you will also be exposing your API key in plain text!
</aside>

<h2 id="user-account">User Account</h2>

<p>The account info API supports querying and making changes to a User&rsquo;s account.</p>

<h3 id="get-account-info">Get Account Info</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"available_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ledger_balance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"250.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credit_card_rate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3.5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credit_card_fee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_transfer_fee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.45"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"wenbin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tay"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address_line_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Blk 712 loyang Avenue 5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address_line_2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"#01-41"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nationality"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Singaporean"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"postal_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"340712"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"identity_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s86917127G"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"sg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"tianyao@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_back"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"nricBackPlaceholder.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_document"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"nricDocumentPlaceholder.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_front"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"nricFrontPlaceholder.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_selfie"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"nricSelfiePlaceholder.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+6597288608"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"multi_bank_account_detected"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account_locked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kyc_limit_remaining"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"500.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kyc_verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_guest"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_accounts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12315"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint return information related to your account such as available balance, ledger balance,
name and bank account information.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/user</code></p>

<h3 id="update-account-info">Update Account Info</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -d <span class="s1">'{"first_name": "wenbin", "last_name": "tay", "address_line_1": "Blk 712 loyang Avenue 5", "address_line_2": "#01-41", "nationality": "Singaporean", "postal_code": "340712", "identity_no": "s86917127G", "country": "sg"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"available_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ledger_balance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"250.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credit_card_rate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3.5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credit_card_fee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_transfer_fee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.45"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"wenbin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tay"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address_line_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Blk 712 loyang Avenue 5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address_line_2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"#01-41"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nationality"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Singaporean"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"postal_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"340712"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"identity_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s86917127G"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"sg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"tianyao@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_front"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"nricFrontPlaceholder.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_back"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"nricBackPlaceholder.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"selfie_2id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"nricSelfiePlaceholder.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"proof_of_address"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"nricDocumentPlaceholder.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+6597288608"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_accounts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12315"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint allows user to update their account information, this is especially important for account that would require KYC.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">PUT https://sandbox.xfers.io/api/v3/user</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>optional</td>
<td>Account holder firstname</td>
<td>Tianwei</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>optional</td>
<td>Account holder lastname</td>
<td>Liu</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>optional</td>
<td>User email</td>
<td>tianwei@xfers.io</td>
</tr>
<tr>
<td>date_of_birth</td>
<td>string</td>
<td>optional</td>
<td>Date of birth for account holder in yyyy-mm-dd</td>
<td>1986-02-27</td>
</tr>
<tr>
<td>address_line_1</td>
<td>string</td>
<td>optional</td>
<td>Address line 1</td>
<td>Blk 212 Jurong East St 50</td>
</tr>
<tr>
<td>address_line_2</td>
<td>string</td>
<td>optional</td>
<td>Address line 2</td>
<td>#08-41</td>
</tr>
<tr>
<td>nationality</td>
<td>string</td>
<td>optional</td>
<td>Account holder nationality</td>
<td>Singaporean</td>
</tr>
<tr>
<td>postal_code</td>
<td>string</td>
<td>optional</td>
<td>Address postal code</td>
<td>640212</td>
</tr>
<tr>
<td>identity_no</td>
<td>string</td>
<td>optional</td>
<td>Account holder national identity no</td>
<td>s841212318g</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>optional</td>
<td>Account holder country of residence</td>
<td>Singapore</td>
</tr>
<tr>
<td>id_front_url</td>
<td>string</td>
<td>optional</td>
<td>URL storing the front image of user identity card</td>
<td></td>
</tr>
<tr>
<td>id_back_url</td>
<td>string</td>
<td>optional</td>
<td>URL storing the back image of user identity card</td>
<td></td>
</tr>
<tr>
<td>selfie_2id_url</td>
<td>string</td>
<td>optional</td>
<td>URL storing the selfie of user holding their id card or a second form of id like driving license or passport</td>
<td></td>
</tr>
<tr>
<td>proof_of_address_url</td>
<td>string</td>
<td>optional</td>
<td>URL storing the image/pdf of proof of address document of user like bank statement or telco bill. For business, please provide your Arca Bizfile.</td>
<td></td>
</tr>
<tr>
<td>meta_data</td>
<td>string</td>
<td>optional</td>
<td>Additional data like Jumio info dump.</td>
<td></td>
</tr>
</tbody></table>

<h3 id="get-account-activities">Get Account Activities</h3>

<p>The activities API only supports querying of a user&rsquo;s activity.</p>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/activities"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"msg"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trans_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"display_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-22T06:21:31.000+08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Victor Liew"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"plus_minus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"display_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transaction_items"</span><span class="p">:</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"item_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Threadless T-Shirt"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"item_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Threadless T-Shirt, (S) Size"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"item_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"item_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"item_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Light Brown Belt"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"item_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Light brown Belt, (XS) Size"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"item_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"item_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"display_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.xfers.io/assets/displayImageUser-c610a87e219afbe0bfc27bcddd67b8f831f967aedb01aef82a9009e9b6eb36c2.png"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trans_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"display_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-23T16:08:39.000+08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC Transfer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"plus_minus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"display_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transaction_items"</span><span class="p">:</span><span class="w">
      </span><span class="p">[</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"display_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.xfers.io/assets/displayImageUser-c610a87e219afbe0bfc27bcddd67b8f831f967aedb01aef82a9009e9b6eb36c2.png"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre>

<p>This endpoint return information related to your account activites such as the types and statuses of transactions that the user has.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/user/activities</code></p>

<h3 id="register-updates-callback---coming-soon">Register Updates Callback - Coming soon</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/balance_callback"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -d <span class="s1">'{"callback_url": "www.example.com/update", "meta_data": {"key1" : "value1", "key2" : "value2"}}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/updates"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"key1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"key2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This will allow you to register for a callback which will be fired whenever there are user account changes(like change in account balances). This callback request is only valid for 24hrs.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/user/balance_callback</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>callback_url</td>
<td>string</td>
<td>required</td>
<td>URL to receive callback notifications on account changes</td>
<td>https://www.example.com/updates</td>
</tr>
<tr>
<td>meta_data</td>
<td>string</td>
<td>optional</td>
<td>A set of key/value pairs that you can attach to this request. It can be useful for storing additional information about the customer in a structured format. You will be provided with these meta_data in your callback notification</td>
<td>{&ldquo;email”:“tianwei@xfers.io”, “orderId”:“AZ12312”}</td>
</tr>
</tbody></table>

<h3 id="updates-callback-notifications---coming-soon">Updates Callback Notifications - Coming soon</h3>

<p>After registering for a account callback notifications. Whenever they are any account changes(like a change in account balances), Xfers will send a callback to the <code class="prettyprint">callback_url</code> you previously provided. This is a server to server HTTPS/HTTP POST and you will need to acknowledge the callback by providing a HTTP 200 status.</p>

<p><code class="prettyprint">POST https://www.example.com/updates</code></p>

<p>The following parameters will be part of the HTTPS/HTTP POST:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>available_balance</td>
<td>float</td>
<td>Account&rsquo;s current available balance</td>
<td>250.50</td>
</tr>
<tr>
<td>meta_data</td>
<td>string</td>
<td>The json string you previously provided in the register request</td>
<td>{&quot;email”:“tianwei@xfers.io”, “orderId”:“AZ12312”}</td>
</tr>
</tbody></table>

<h2 id="bank-account">Bank Account</h2>

<p>The follow APIs allow you to add or update your bank account info.</p>

<h3 id="supported-banks">Supported banks</h3>

<table><thead>
<tr>
<th>Logo</th>
<th>Bank Name</th>
<th>Abbreviation</th>
</tr>
</thead><tbody>
<tr>
<td><img alt="DBS" src="images/bank-logo-30px-dbs.png" /></td>
<td>Development Bank of Singapore</td>
<td>DBS</td>
</tr>
<tr>
<td><img alt="POSB" src="images/bank-logo-30px-posb.png" /></td>
<td>Post Office Saving Bank</td>
<td>DBS</td>
</tr>
<tr>
<td><img alt="UOB" src="images/bank-logo-30px-uob.png" /></td>
<td>United Oversea Bank</td>
<td>UOB</td>
</tr>
<tr>
<td><img alt="MBB" src="images/bank-logo-30px-mbs.png" /></td>
<td>Malaysia Banking BHD</td>
<td>MBB</td>
</tr>
<tr>
<td><img alt="OCBC" src="images/bank-logo-30px-ocbc.png" /></td>
<td>Oversea-Chinese Banking Corporation Limited</td>
<td>OCBC</td>
</tr>
<tr>
<td><img alt="CITI" src="images/bank-logo-30px-citi.png" /></td>
<td>Citibank Singapore</td>
<td>CITI</td>
</tr>
<tr>
<td><img alt="SCB" src="images/bank-logo-30px-scb.png" /></td>
<td>Standard Chartered Bank</td>
<td>SCB</td>
</tr>
<tr>
<td><img alt="CIMB" src="images/bank-logo-30px-cimb.png" /></td>
<td>CIMB Bank Berhad</td>
<td>CIMB</td>
</tr>
<tr>
<td><img alt="HSBC" src="images/bank-logo-30px-hsbc.png" /></td>
<td>Hong Kong and Shanghai Banking Corporation</td>
<td>HSBC</td>
</tr>
</tbody></table>

<h3 id="add-a-bank-account">Add a Bank Account</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/bank_account"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"account_no": "03931234323", "bank":"DBS"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bank_accounts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12315"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This request will add a new bank account to this Xfers account. You will be able to withdraw your Xfers available balances to these account(s).</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/user/bank_account</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>account_no</td>
<td>string</td>
<td>optional</td>
<td>bank account no</td>
<td>03931234323</td>
</tr>
<tr>
<td>bank</td>
<td>string</td>
<td>optional</td>
<td>bank abbreviation (Refer to <a href="/docs/#supported-banks">supported banks</a>)</td>
<td>DBS</td>
</tr>
</tbody></table>

<h3 id="list-bank-accounts">List Bank Accounts</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/bank_account"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bank_accounts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12315"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This will list all bank accounts belonging to the user.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/user/bank_account</code></p>

<h3 id="update-a-bank-account">Update a Bank Account</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -d <span class="s1">'{"account_no": "03931234321", "bank":"DBS"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bank_accounts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12315"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This request allow you to update an existing bank account record. </p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">PUT https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>account_no</td>
<td>string</td>
<td>optional</td>
<td>bank account no</td>
<td>03931234323</td>
</tr>
<tr>
<td>bank</td>
<td>string</td>
<td>optional</td>
<td>bank abbreviation (Refer to <a href="/docs/#supported-banks">supported banks</a>)</td>
<td>DBS</td>
</tr>
</tbody></table>

<h3 id="delete-bank-account">Delete Bank Account</h3>
<pre class="highlight shell"><code>curl -X DELETE <span class="s2">"https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bank_accounts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12312"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This request allow you to delete an existing bank account record. </p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">DELETE https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;</code></p>

<h3 id="submit-withdrawal-request">Submit Withdrawal Request</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;/withdraw"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"amt": "50.0"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"available_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ledger_balance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"200.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"withdrawal_request"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"59"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"fees"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"express"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"arrival"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"31 March 2016"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This will make a withdrawal request to the bank account given, provided that your account have sufficient available balance.</p>

<p>For same day withdrawal(additional fees applies), set &lsquo;express&rsquo; field to true. Funds will arrive at recipient bank within 24 hrs.</p>

<p>Standard withdrawal takes 2-3 business day to arrive at recipient bank.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/user/bank_account/&lt;bank_account_id&gt;/withdraw</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>string</td>
<td>required</td>
<td>Amount to withdraw in SGD</td>
<td>50.0</td>
</tr>
<tr>
<td>express</td>
<td>string</td>
<td>optional</td>
<td>Default to &#39;false&rsquo;</td>
<td>50.0</td>
</tr>
</tbody></table>

<h3 id="list-withdrawal-request">List Withdrawal Request</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/bank_account/withdraw_requests"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"withdrawal_requests"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"59"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"039-312-3432-3"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"fees"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"express"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"arrival"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"31 March 2016"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"99"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"129-880-1251-1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bank_abbrev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"250.0"</span><span class="p">,</span><span class="w">       
       </span><span class="s2">"fees"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2.99"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"express"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"arrival"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"28 March 2016"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This will list all non-completed withdrawal requests made previously.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/user/bank_account/withdrawal_requests</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>filter</td>
<td>string</td>
<td>optional</td>
<td>filter by <a href="/docs/#withdrawal-status">withdrawal status</a></td>
<td>Default to no filter</td>
</tr>
</tbody></table>

<h5 id="withdrawal-status">Withdrawal Status</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>unverified</td>
<td>Withdrawal request is awaiting confirmations</td>
</tr>
<tr>
<td>pending</td>
<td>Withdrawal request is being process now.</td>
</tr>
<tr>
<td>paid</td>
<td>Withdrawal request has been processed and completed.</td>
</tr>
<tr>
<td>cancelled</td>
<td>Withdrawal request has been cancelled.</td>
</tr>
</tbody></table>

<h3 id="get-transfer-info">Get Transfer Info</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/user/transfer_info"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bank_name_full"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Oversea Chinese Banking Corporation"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_name_abbreviation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"646004424001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"7339"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"646"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch_area"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Jurong East"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unique_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"97288607"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This will return transfer in info specific to the user.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/user/transfer_info</code></p>

<h2 id="charges">Charges</h2>

<p>The following APIs allow you to create a Xfers transaction and allow anyone to pay you via an internet banking transfer or credit card.</p>

<h3 id="creating-a-charge">Creating a Charge</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "amount": "9.99", "currency": "SGD", "redirect": "false", "notify_url": "https://mysite.com/payment_notification", "return_url": "https://mysite.com/return", "cancel_url": "https://mysite.com/cancel", "order_id": "AZ9912", "description":"unused red dress", "shipping": "2.50", "tax": "0.0", "items" : [{"description":"Red dress Size M","price":9.99,"quantity":1,"name":"Red dress"}], "meta_data": {"firstname":"Tianwei", "lastname":"Liu"}}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"refundable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fees"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"firstname"</span><span class="p">:</span><span class="s2">"Tianwei"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Liu"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The following request will allow you to create a charge against a customer. </p>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>float</td>
<td>required</td>
<td>Total value for items, excluding taxes and shipping fees</td>
<td>9.99</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>required</td>
<td>3-letter ISO code for currency</td>
<td>SGD</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>required</td>
<td>Unique ref no provided by you to prevent double charging, this cannot be repeated</td>
<td>A012312</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>required</td>
<td>Description of transaction for display purposes</td>
<td>Carousell user - Konsolidate</td>
</tr>
<tr>
<td>notify_url</td>
<td>string</td>
<td>optional</td>
<td>URL to receive callback notifications on charge success/failure/expiration</td>
<td>https://mysite.com/payment_notification</td>
</tr>
<tr>
<td>return_url</td>
<td>string</td>
<td>optional</td>
<td>URL Xfers will redirect customer to on completion of Xfers checkout</td>
<td>https://mysite.com/return</td>
</tr>
<tr>
<td>cancel_url</td>
<td>string</td>
<td>optional</td>
<td>URL Xfers will redirect customer to on cancellation of Xfers checkout</td>
<td>https://mysite.com/cancel</td>
</tr>
<tr>
<td>refundable</td>
<td>boolean</td>
<td>optional</td>
<td>Whether or not this charge can be refunded. Non Refundable Charges will settle immediately after payment.</td>
<td>Default to true</td>
</tr>
<tr>
<td>user_api_token</td>
<td>string</td>
<td>optional</td>
<td>Buyer&rsquo;s api token obtain via Connect&rsquo;s get user token APIs. When this is provide, this charge will skip user auth.</td>
<td>NbKjcFV5XxGZ-Uf2XnxyshFcrGtoxmLms9YEgokzDRo</td>
</tr>
<tr>
<td>user_phone_no</td>
<td>boolean</td>
<td>optional</td>
<td>When this is provided, buyer will receive an OTP(one time password) from Xfers which they can provide to merchant to skip user authentication. See <a href="/docs/#authorize-a-charge">Authenticate a Charge</a>.</td>
<td>Default to false</td>
</tr>
<tr>
<td>debit_only</td>
<td>boolean</td>
<td>optional</td>
<td>When this is true, this charge will attempt to debit from users existing balance/card on file. Status returned will be &quot;completed&rdquo; on successful debit or &ldquo;cancelled&rdquo; when there insufficient funds / valid card on file in user wallet.</td>
<td>Default to false</td>
</tr>
<tr>
<td>card_only</td>
<td>boolean</td>
<td>optional</td>
<td>When this is true, this charge will will attempt to only take payments via credit/debit card.</td>
<td>Default to false</td>
</tr>
<tr>
<td>absorb_card_fees</td>
<td>boolean</td>
<td>optional</td>
<td>When this is true, seller will not pass on the additional fees involved in card processing back on to buyer(as convenience fees)</td>
<td>Default to false</td>
</tr>
<tr>
<td>enquiry_only</td>
<td>boolean</td>
<td>optional</td>
<td>When this is true, this charge will not be processed but a standard response will be provided. This is usually used for testing purposes or for pre-fetching charge information like fees.</td>
<td>Default to false</td>
</tr>
<tr>
<td>redirect</td>
<td>string</td>
<td>optional</td>
<td>When this is true, instead of the JSON response, Xfers will automatically redirect the request to our checkout page</td>
<td>Default to true/will be forced to be true when user_api_token is set.</td>
</tr>
<tr>
<td>items</td>
<td>string</td>
<td>optional</td>
<td>A JSON array of item with attributes &#39;description, name, price, quantity&rsquo;. See more <a href="/docs/#item-hash">info</a>.</td>
<td>&ldquo;[{&quot;description&rdquo;:&ldquo;Red dress Size M&rdquo;,&ldquo;price&rdquo;:9.99,&ldquo;quantity&rdquo;:1,&ldquo;name&rdquo;:&ldquo;Red dress&rdquo;}]&ldquo;</td>
</tr>
<tr>
<td>shipping</td>
<td>float</td>
<td>optional</td>
<td>Shipping fees</td>
<td>Default to 0.0</td>
</tr>
<tr>
<td>tax</td>
<td>float</td>
<td>optional</td>
<td>tax in $</td>
<td>Default to 0.0</td>
</tr>
<tr>
<td>hrs_to_expirations</td>
<td>float</td>
<td>optional</td>
<td>No of hours before this transactons will expire</td>
<td>Default to 48.0 hours from now.</td>
</tr>
<tr>
<td>meta_data</td>
<td>string</td>
<td>optional</td>
<td>A set of key/value pairs that you can attach to a charge. It can be useful for storing additional information about the customer in a structured format. You will be provided with these meta_data in your callback notification</td>
<td>{&quot;firstname&rdquo;:&ldquo;tianwei&rdquo;, &ldquo;lastname&rdquo;:&ldquo;liu&rdquo;}</td>
</tr>
<tr>
<td>receipt_email</td>
<td>string</td>
<td>optional</td>
<td>The email address to send this charge&rsquo;s receipt.</td>
<td>tianwei@xfers.io</td>
</tr>
<tr>
<td>skip_notifications</td>
<td>boolean</td>
<td>optional</td>
<td>Setting this to true will not send transaction reminders/cancelled/expired emails/SMS. Users will still receive payment completed notification.</td>
<td>Default to false.</td>
</tr>
</tbody></table>

<h4 id="item-hash">item hash</h4>

<p>You can provide itemized receipt for your customer by giving use informations with regards to each of them in the <code class="prettyprint">items</code> field as a json array of hash. </p>

<p>The below is the list of attribute supported in the hash.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>string</td>
<td>required</td>
<td>Total value for items</td>
<td>Red dress Size M</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>required</td>
<td>Total value for items</td>
<td>Red dress</td>
</tr>
<tr>
<td>price</td>
<td>float</td>
<td>required</td>
<td>Total value for items</td>
<td>9.99</td>
</tr>
<tr>
<td>quantity</td>
<td>float</td>
<td>required</td>
<td>Total value for items</td>
<td>1.0</td>
</tr>
<tr>
<td>item_id</td>
<td>string</td>
<td>optional</td>
<td>Total value for items</td>
<td>AXA0012</td>
</tr>
</tbody></table>

<aside class="warning">
The subtotal of all the item MUST be equal to the `amount` field you provided or Xfers will reject your charge.
</aside>

<h4 id="meta-data">meta data</h4>

<p>You can use the <code class="prettyprint">meta_data</code> parameter to attach json data. This is useful for storing additional structured information about the charge. As an example, you could store your user&rsquo;s first name, last name or any corresponding unique identifier from your system a Xfers charge. </p>

<p>The description and meta_data you specify is returned in API responses.</p>

<p>When a charge get cancelled, additional information might be provided in the meta_data field with key &#39;error_code&rsquo; and &#39;error_message&rsquo;.</p>

<table><thead>
<tr>
<th>key</th>
<th>value</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>error_code</td>
<td>&#39;KYC_ERROR&rsquo;</td>
<td>User has some issues with their Xfers&rsquo; account validation.</td>
</tr>
<tr>
<td>error_code</td>
<td>&#39;KYC_MULTI&rsquo;</td>
<td>Transfers from multiple bank account detected, user needs to contact Xfers for account validation.</td>
</tr>
<tr>
<td>error_code</td>
<td>&#39;KYC_LIMIT&rsquo;</td>
<td>User has reached the daily limit for their purchases.</td>
</tr>
<tr>
<td>error_code</td>
<td>&#39;KYC_UNAVAILABLE&rsquo;</td>
<td>Xfers has yet to receive KYC information for this user.</td>
</tr>
<tr>
<td>error_code</td>
<td>&#39;INSUFFICIENT_FUND&rsquo;</td>
<td>This is returned when a charge via user_api_token was unable to be process due to insufficient account balance.</td>
</tr>
<tr>
<td>error_code</td>
<td>&#39;INVALID_CARD&rsquo;</td>
<td>This is returned when a charge via user_api_token was unable to be process due to a the lack of a valid card on file.</td>
</tr>
</tbody></table>

<aside class="notice">
You should always provide customer&rsquo;s firstname and lastname information whenever you can as it would help us detecting fraudulence charges or user who have made an mistaken in their bank transfer.
</aside>

<h3 id="payment-cancellation">Payment Cancellation</h3>

<p>If customer cancels the transaction during Xfers&rsquo; checkout flow, he will be redirected back to the <code class="prettyprint">cancel_url</code> you provided. The <code class="prettyprint">order_id</code> you provided in the charge call will also be part of the GET request as shown:</p>

<p><code class="prettyprint">GET https://mysite.com/cancel?order_id=&lt;order_id&gt;</code></p>

<h3 id="payment-response">Payment Response</h3>

<p>After the customer has completed the transaction on Xfers website, he will be redirected back to the <code class="prettyprint">return_url</code> you provided. The <code class="prettyprint">order_id</code> you provided in the charge call will also be part of the GET request as shown:</p>

<p><code class="prettyprint">GET https://mysite.com/return?order_id=&lt;order_id&gt;</code></p>

<aside class="warning">
Please take note that at this point, payment may or may not have been completed and verified. You should wait on receiving our payment notification server call before releasing your goods/services.
</aside>

<h3 id="payment-notifications">Payment Notifications</h3>

<p>After payment has been completed and verified by Xfers backend, Xfers will send a callback to the <code class="prettyprint">notify_url</code> you provided. This is a server to server HTTPS POST and you will need to acknowledge the callback by providing a HTTP 200 status. It is important to take note that this notification can arrive at your server before or after the customer is redirected to the return_url you provided. </p>

<p><code class="prettyprint">POST https://mysite.com/payment_notification</code></p>

<p>The following parameters will be part of the HTTPS POST:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>txn_id</td>
<td>string</td>
<td>Xfers&rsquo;s transaction id unique to each transaction</td>
<td>b840cc9fc5a359c22ed2ccef3427aacd</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>Unique ref no provided by your during your charge call</td>
<td>A012312</td>
</tr>
<tr>
<td>total_amount</td>
<td>float</td>
<td>12.49</td>
<td>Total value for items</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>3-letter ISO code for currency</td>
<td>SGD</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Payment status.</td>
<td>&ldquo;cancelled&rdquo; or &ldquo;paid&rdquo; or &ldquo;expired&rdquo;</td>
</tr>
<tr>
<td>meta_data</td>
<td>string</td>
<td>meta data previous provided in your charge call.</td>
<td>&ldquo;{&#39;first_name&rsquo; : &#39;Tianwei&rsquo;, &#39;last_name&rsquo; : &#39;Liu&rsquo;}&rdquo;</td>
</tr>
</tbody></table>

<h3 id="verification-of-notifications">Verification of Notifications</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;txn_id&gt;/validate"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"total_amount": "24.99", "currency": "SGD", "order_id": "A012312", "status": "paid"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VERIFIED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>After receiving a payment notification from Xfers, you should do verification with Xfers to confirm that that it did indeed originate from Xfers. The post parameters must include all the fields in the payment notification that was sent from Xfers to you. </p>

<p>Xfers will response with HTTP 200 status and a JSON string { &ldquo;msg&rdquo;: &ldquo;VERIFIED&rdquo; } if the notification is valid or a JSON string { &ldquo;msg&rdquo;: &ldquo;INVALID&rdquo; } when its not.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;/validate</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>string</td>
<td>Unique ref no provided by your during your charge call</td>
<td>A012312</td>
</tr>
<tr>
<td>total_amount</td>
<td>float</td>
<td>12.49</td>
<td>Total value for items</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>3-letter ISO code for currency</td>
<td>SGD</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Payment status.</td>
<td>&ldquo;cancelled&rdquo; or &ldquo;paid&rdquo; or &ldquo;expired&rdquo;</td>
</tr>
</tbody></table>

<h3 id="payment-settlement">Payment Settlement</h3>

<p>After refundable charge become &ldquo;paid&rdquo;, its funds(minus our fees) will be added to your account ledger balance.</p>

<p>By default, its funds(minus our fees) will be &ldquo;withheld&rdquo; by Xfers for another 10 days(for refund and dispute purposes) before the charge becomes &ldquo;completed&rdquo; and it&rsquo;s funds(minus our fees) will be credited to your Xfers account available balance.</p>

<h3 id="authorize-a-charge">Authorize a Charge</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;/authorize"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"auth_code": "512312"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"refundable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipment_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-02T06:26:51Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"settlement_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-05T06:26:51Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"firstname"</span><span class="p">:</span><span class="s2">"Tianwei"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Liu"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Authorize a previously created charge. This is an optional process that will allow buyer to skip the sign in flow on Xfers, allowing checkout to be completed on merchant site. If an correct auth_code is provided, the charge will immediately become &ldquo;accepted&rdquo; by the buyer.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;/authorize</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>auth_code</td>
<td>string</td>
<td>Required</td>
<td>PIN code provided to the buyer</td>
<td>512312</td>
</tr>
</tbody></table>

<h3 id="cancel-a-charge">Cancel a Charge</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;CHARGE_ID&gt;/cancel"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
  -X POST
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fa51cd08c8ae115f858593412bb72c8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Cancelling a charge that has been previously created by not yet paid. To refund a paid charge, refer to <a href="/#creating-a-refund">creating a refund</a>.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges/&lt;CHARGE_ID&gt;/cancel</code></p>

<h3 id="settle-a-charge">Settle a Charge</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"settlement_code": "512312"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"refundable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipment_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-02T06:26:51Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"settlement_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-05T06:26:51Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"firstname"</span><span class="p">:</span><span class="s2">"Tianwei"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Liu"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Settle the payment of a previous created refundable charge. This is an optional process which is usually made when a seller has delivered their goods/services and would like to shorten the payment settlement process. The default <a href="/docs/#payment-settlement">payment settlement process</a> takes 10 days.</p>

<p>When a correct <code class="prettyprint">settlement_code</code> is provided, the charge will become completed and the funds
will be available for usage(withdrawal, payout, etcs) immediately.</p>

<p>If no <code class="prettyprint">settlement_code</code> was provided, buyer will receive a notifications from Xfers that a seller has delivered on their goods/services and has 72 hrs dispute it before their funds are released to the seller.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>settlement_code</td>
<td>string</td>
<td>Optional</td>
<td>PIN code provided to the buyer</td>
<td>512312</td>
</tr>
</tbody></table>

<h3 id="retrieve-a-charge">Retrieve a Charge</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"730eba1ec6d34f64dc68a0081c5006dc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"refundable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipment_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-02T06:26:51Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"settlement_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-05T06:26:51Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"firstname"</span><span class="p">:</span><span class="s2">"Tianwei"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Liu"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves the details of a charge that has previously been created. Supply the unique charge ID that was returned from your previous request or provide the ORDER_ID that you previous provided in your create charge call, and Xfers will return the corresponding charge information. The same information is returned when creating or refunding the charge.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/charges/&lt;CHARGE_ID or ORDER_ID&gt;</code></p>

<h3 id="list-all-charges">List all Charges</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges?limit=1"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"730eba1ec6d34f64dc68a0081c5006dc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cash_on_delivery"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refundable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shipment_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-02T06:26:51Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"settlement_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-05T06:26:51Z"</span><span class="p">,</span><span class="w">    
    </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"firstname"</span><span class="p">:</span><span class="s2">"Tianwei"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Liu"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>Returns a list of charges you&rsquo;ve previously created. The charges are returned in sorted order, with the most recent charges appearing first.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/charges</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>customer</td>
<td>string</td>
<td>optional</td>
<td>Only return charges for the customer specified by this customer ID.</td>
<td>97288608</td>
</tr>
<tr>
<td>ending_before</td>
<td>string</td>
<td>optional</td>
<td>A cursor for use in pagination. ending_before is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with obj_bar, your subsequent call can include ending_before=obj_bar in order to fetch the previous page of the list.</td>
<td>7364dc68a000eba1ec6d34f81c5006dc</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>optional</td>
<td>A limit on the number of objects to be returned. Limit can range between 1 and 50 items.</td>
<td>Default to 10</td>
</tr>
<tr>
<td>starting_after</td>
<td>string</td>
<td>optional</td>
<td>A cursor for use in pagination. starting_after is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with obj_foo, your subsequent call can include starting_after=obj_foo in order to fetch the next page of the list.</td>
<td>7ba1ec6d34f64dc68a030e081c5006dc</td>
</tr>
</tbody></table>

<h2 id="payouts">Payouts</h2>

<p>Xfers payout Apis allow you to pay anyone with your Xfers balance via their phone no or email address. A SGD$1.00 fees will be charge to your account on every successful payout. You need to have sufficient available balance in your account to cover the amount + fees required for the payout.</p>

<h3 id="creating-a-payout">Creating a Payout</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/payouts"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"amount": "150.00", "invoice_id": "AZ0001", "descriptions": "Payment for Rent for July", "recipient": "+6597288608"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fa51cd08c8ae115f858593412bb72c8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+6597288608"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AZ0001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">150.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"descriptions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment for Rent for July"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"XXX-XXX-6091"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-01T19:01:25Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completed_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"unclaimed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The following request will allow you to make a payout to the recipient. If you only provide us with bank details, Xfers will make a payout directly to that bank account. 
If only email/phone no is provided, Xfers will email/SMS the recipient to inform him of the payout and allow him to claim and withdrawal the funds to any of the <a href="/docs/#supported-banks">local banks we support</a>. However, if a user has an account with xfers, we will credit the amount into the user&rsquo;s account immediately. 
If both bank details and recipient informations are provided, we will credit their bank account and send them a notification once their payout has been processed.</p>

<p>Note: If the recipient did not accept the payout within 14 days, the payout will be cancelled and its funds will be return back to your Xfers balances.</p>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/payouts</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>float</td>
<td>required</td>
<td>Total value for items.</td>
<td>150.00</td>
</tr>
<tr>
<td>invoice_id</td>
<td>string</td>
<td>required</td>
<td>Unique ref no provided by merchant. This will need to be unique or the payout request will be considered a duplicate and ignored.</td>
<td>AZ0001</td>
</tr>
<tr>
<td>recipient</td>
<td>string</td>
<td>optional</td>
<td>Email or Mobile Phone No of the recipient for this payout.</td>
<td>+659728860</td>
</tr>
<tr>
<td>user_api_token</td>
<td>string</td>
<td>optional</td>
<td>user’s api token obtain via Connect’s get user token APIs. When this is provided, it will replace the recipient param as the payout target</td>
<td></td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>optional</td>
<td>3-letter ISO code for currency</td>
<td>Default to &#39;SGD&rsquo;</td>
</tr>
<tr>
<td>descriptions</td>
<td>string</td>
<td>optional</td>
<td>A short description for this payout. This will be part of the email/SMS that the recipient will be receiving from Xfers.</td>
<td>Payment for Rent for July</td>
</tr>
<tr>
<td>bank_abbreviation</td>
<td>string</td>
<td>optional</td>
<td>Bank abbreviation of the <a href="/docs/#supported-banks">supported banks</a></td>
<td>DBS</td>
</tr>
<tr>
<td>bank_account_no</td>
<td>string</td>
<td>optional</td>
<td>Bank account no of recipient</td>
<td>4234126091</td>
</tr>
<tr>
<td>no_expire</td>
<td>boolean</td>
<td>optional</td>
<td>Set this to true so this payout will not expire</td>
<td>Default to false</td>
</tr>
</tbody></table>

<h5 id="payout-response-status">Payout Response Status</h5>

<p>The below are the possible response status and their meaning.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>unclaimed</td>
<td>Payout has not been accepted by recipient. New Xfers user and payout has yet to be claimed.</td>
</tr>
<tr>
<td>completed</td>
<td>Payout has been completed. Existing Xfers user and payout has been credited to his account.</td>
</tr>
</tbody></table>

<h3 id="retrieve-a-payout">Retrieve a Payout</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/payouts/&lt;id&gt;"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fa51cd08c8ae115f858593412bb72c8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+6597288608"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AZ0001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">150.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"descriptions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment for Rent for July"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"XXX-XXX-6091"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-01T19:01:25Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completed_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"unclaimed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves the details of a charge that has previously been created. Supply the unique charge ID that was returned from your previous request, and Xfers will return the corresponding charge information. The same information is returned when creating or refunding the charge.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/payouts/&lt;id&gt;</code></p>

<p>The below is a list of payout status and their respective meanings.</p>

<h5 id="payout-status">Payout Status</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>unclaimed</td>
<td>Payout has not been accepted by recipient.</td>
</tr>
<tr>
<td>completed</td>
<td>Payout has been completed.</td>
</tr>
<tr>
<td>cancelled</td>
<td>Payout has been cancelled.</td>
</tr>
</tbody></table>

<h3 id="list-all-payouts">List all Payouts</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/payouts?limit=1"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fa51cd08c8ae115f858593412bb72c8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+6597288608"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"invoice_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AZ0001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">150.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descriptions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment for Rent for July"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bank"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DBS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bank_account_no"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"XXX-XXX-6091"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-01T19:01:25Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completed_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>Returns a list of payouts you&rsquo;ve previously created. The payouts are returned in sorted order, with the most recent charges appearing first.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/payouts</code></p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>recipient</td>
<td>string</td>
<td>optional</td>
<td>Only return charges for the recipient(email for phone no) specified by this recipient ID.</td>
<td>+6597288608</td>
</tr>
<tr>
<td>ending_before</td>
<td>string</td>
<td>optional</td>
<td>A cursor for use in pagination. ending_before is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with obj_bar, your subsequent call can include ending_before=obj_bar in order to fetch the previous page of the list.</td>
<td>6fa51cd08c8ae115f858593412bb72c8</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>optional</td>
<td>A limit on the number of objects to be returned. Limit can range between 1 and 50 items.</td>
<td>Default to 10</td>
</tr>
<tr>
<td>starting_after</td>
<td>string</td>
<td>optional</td>
<td>A cursor for use in pagination. starting_after is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with obj_foo, your subsequent call can include starting_after=obj_foo in order to fetch the next page of the list.</td>
<td>6fa51cd08c8ae115f858593412bb72c8</td>
</tr>
</tbody></table>

<h2 id="refunds">Refunds</h2>

<p>The following APIs allow you to refund a charge that has previously been created and paid by your buyer but not yet refunded. Funds will be refunded to the buyer Xfers account available balance. The fees you were originally charged are also refunded.</p>

<h3 id="creating-a-refund">Creating a Refund</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;/refunds"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-USER-API-KEY: FVNbKjcGZ5Xx-Uf2XnxsrGtoxmLm9YEgokzDRoyshFc"</span>
  -X POST
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fa51cd08c8ae115f858593412bb72c8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkout_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/checkout_transaction/b840cc9fc5a359c22ed2ccef3427aacd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/payment_notification"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/cancel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"A012312"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"capture"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Carousell user - Konsolidate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Dress Size M"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red dress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"statement_descriptor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipt_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">12.49</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"refunded"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>When you create a new refund, you must specify a charge to create it on.</p>

<p>Creating a new refund will refund a charge that has previously been created and paid but not yet refunded. Funds will be refunded to the buyer Xfers account available balance. The fees you were originally charged are also refunded.</p>

<h4 id="https-request">HTTPS Request</h4>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/charges/&lt;id&gt;/refunds</code></p>

<h1 id="xfers-connect">Xfers Connect</h1>

<p>Xfers connect is for accepting payment on behalf of others, and gaining access to their data.</p>

<p>You might use Connect if you:</p>

<ul>
<li><p>Are building a platform that enables e-commerce like Shopify or tackthis. </p></li>
<li><p>Need to easily accept payments and pay out your service providers, like Grabtaxi with its drivers or yesHelper with its workers. (You can even create Xfers accounts for your users, so they only ever interact with your platform.)</p></li>
<li><p>Want to integrate Xfers wallet directly into your mobile or e-commerce app.</p></li>
</ul>

<p>In general, if you’re building a platform or marketplace that needs to pay third-parties or building applications that help Xfers users do more with their account or their data, Connect is likely the right solution for you.</p>

<h2 id="authentication">Authentication</h2>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://sandbox.xfers.io/api/v3/authorize/connect"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-APP-API-KEY: Kx4EAd1DnsZkv3qXwps8AJ8jXCPsxPMHTAFLM2sKSyg"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"hello": "world", "signature": "5341eb694dada7866166ece5f46d1c2884839a3f"}'</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">Kx4EAd1DnsZkv3qXwps8AJ8jXCPsxPMHTAFLM2sKSyg</code> with your API key.</p>
</blockquote>

<p>Xfers connect uses a pair of API Keys and API Secret to access its APIs.</p>

<p>Write in to us at support@xfers.io to request for your Xfers connect API Keys.
You will provided with a pair of keys named <code class="prettyprint">X-XFERS-APP-API-KEY</code> and <code class="prettyprint">X-XFERS-APP-SECRET-KEY</code>.</p>

<p>Xfers connect expects the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">X-XFERS-APP-API-KEY: Kx4EAd1DnsZkv3qXwps8AJ8jXCPsxPMHTAFLM2sKSyg</code></p>

<p>For all examples below we will be using the follow:</p>

<p><code class="prettyprint">X-XFERS-APP-SECRET-KEY: xHsrB268LjLfrzxAraYXLHdRMpTA5XRVLDbe9gmVQTU</code></p>

<blockquote>
<p>The above command returns JSON structured like this on success:</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
You must replace <code>Kx4EAd1DnsZkv3qXwps8AJ8jXCPsxPMHTAFLM2sKSyg</code> with your Xfers Connect&rsquo;s API key. These are not the same as your user API Key found in your account settings page.
</aside>

<h2 id="signup/login-to-xfers">Signup/login to Xfers</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/authorize/signup_login"</span><span class="se">\</span>
  -H <span class="s2">"X-XFERS-APP-API-KEY: Kx4EAd1DnsZkv3qXwps8AJ8jXCPsxPMHTAFLM2sKSyg"</span><span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"phone_no" : "+6597288608", "signature" : "c5535aa2c4d25aa1e18a6a7e421a34e51bda5565"}'</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This API call will attempt to login(existing user) or signup a new user.</p>

<p>An SMS with a OTP will be send to that number which must be used for <a href="/docs/#get-user-api-token">get_token</a> api call.</p>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">POST https://sandbox.xfers.io/api/v3/authorize/signup_login</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>phone_no</td>
<td>string</td>
<td>required</td>
<td>User mobile no</td>
<td>+6597288608</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>required</td>
<td>SHA1 of phone_no+APP_SECRET_KEY</td>
<td>Digest::SHA1.hexdigest(&ldquo;+6597288608xHsrB268LjLfrzxAraYXLHdRMpTA5XRVLDbe9gmVQTU&rdquo;) = c5535aa2c4d25aa1e18a6a7e421a34e51bda5565</td>
</tr>
</tbody></table>

<h2 id="get-user-api-token">Get User API Token</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://sandbox.xfers.io/api/v3/authorize/get_token?otp=541231&amp;phone_no=%2B6597288608&amp;signature=bdc26373b3a78dd11dc840a1b7973f197cf34c91"</span> <span class="se">\</span>
  -H <span class="s2">"X-XFERS-APP-API-KEY: Kx4EAd1DnsZkv3qXwps8AJ8jXCPsxPMHTAFLM2sKSyg"</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_api_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1DnsZkv3qXwKx4EAdps8AJ8jXCPsxP2sKSygMHTAFLM"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sign_up_url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.xfers.io/api/v3/account_registration?phone_no=%2B6597288608&amp;token=4014d3e9f0600f78dbfabd86036de7b008f70c52"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This API call will return the user&rsquo;s <code class="prettyprint">X-XFERS-USER-API-KEY</code> and a <code class="prettyprint">sign_up_url</code> if and ONLY IF they do not already have an Xfers account. The url can be loaded to serve a page that allow user to complete their Xfers account registration.</p>

<p>You do not have to do anything with the <code class="prettyprint">sign_up_url</code>. Xfers will automatically send new user a follow up SMS with a similar url that they can complete their account registration with.</p>

<p>If you choose to redirect new Xfers user to the unique sign_up_url to allow them to complete their Xfers account registrations, upon successfully account registration, Xfers will redirect user back to the <code class="prettyprint">return_url</code> specified or the default at &ldquo;&lt;Endpoint&gt;/api/v3/account_registration/completed&rdquo;. The automated SMS from Xfers will not be sent if user complete their account registration this way within 15mins.</p>

<aside class="warning">
Remember to encode the &rsquo;+&rsquo; sign in your phone no during your GET request. It should be &rsquo;%2B&rsquo; instead of &rsquo;+&rsquo;
</aside>

<h3 id="https-request">HTTPS Request</h3>

<p><code class="prettyprint">GET https://sandbox.xfers.io/api/v3/authorize/get_token?otp=541231&amp;phone_no=%2B6597288608&amp;signature=bdc26373b3a78dd11dc840a1b7973f197cf34c91</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>otp</td>
<td>string</td>
<td>required</td>
<td>6 digit one-time-password send over SMS</td>
<td>541231</td>
</tr>
<tr>
<td>phone_no</td>
<td>string</td>
<td>required</td>
<td>User mobile no</td>
<td>+6597288608</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>required</td>
<td>SHA1 of phone_no+OTP+APP_SECRET_KEY</td>
<td>Digest::SHA1.hexdigest(&ldquo;+659728860851231xHsrB268LjLfrzxAraYXLHdRMpTA5XRVLDbe9gmVQTU&rdquo;) = bdc26373b3a78dd11dc840a1b7973f197cf34c91</td>
</tr>
<tr>
<td>return_url</td>
<td>string</td>
<td>optional</td>
<td>Url that new user will be redirected after they completed Xfers account registration at <code class="prettyprint">sign_up_url</code> provided.</td>
<td>Default &ldquo;&lt;Endpoint&gt;/api/v3/account_registration/completed&rdquo;</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>Xfers API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is invalid or has errors.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is incorrect.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified request could not be found</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You are making too many request too quickly.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
